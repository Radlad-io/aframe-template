<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aframe Template</title>

    <!-- Adds CSS Reset to our project -->
    <!-- https://piccalil.li/blog/a-modern-css-reset/ -->
    <link rel="stylesheet" href="./css/styles.css">

    <!-- Adds ./css/styles.css to our project -->
    <link rel="stylesheet" href="./css/styles.css">

    <!-- Adds font from Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Chakra+Petch:wght@300;500;700&display=swap" rel="stylesheet">

    <!-- Adds Aframe.js to our project -->
    <script src="https://aframe.io/releases/1.3.0/aframe.min.js" ></script>
    <script src="https://unpkg.com/aframe-chromakey-material@1.1.4/dist/aframe-chromakey-material.min.js"></script>

    <!-- Adds our own javascript to the project -->
    <script src="./js/app.js" type="module"></script>

    <!-- https://medium.com/samsung-internet-dev/making-an-ar-game-with-aframe-529e03ae90cb -->

</head>
<body>

    <!-- Creates our Aframe Scene -->
    <a-scene stats vr-mode-ui="enterARButton: #arBtn;" webxr="optionalFeatures: dom-overlay;">
        <!-- Asset manager allow us to preload and cache assets for better performance -->
        <!-- Everyting in the a-assets tag is loaded prior to our scene being rendered -->
        <a-assets>
            <!-- Load our model -->
            <a-asset-item id="tilt" src="./assets/models/test.glb"></a-asset-item>
            <audio id="bgAudioSrc" src="./assets/sounds/DanMayo-Hiving.mp3"></audio>

            <!-- Blocking -->
            <video id="video" muted playsinline autoplay="false" loop="true" src="./assets/videos/Video.mp4"></video>
            <video id="alpacaSrc" muted playsinline loop="true" autoplay="true" src="./assets/videos/alpaca.mp4#t=0.001"></video>
        </a-assets>
        
        <!-- Ever-present entities -->
        <a-entity camera look-controls position="-1 2.25 3"></a-entity>
        <!-- <a-sky color="#ECECEC" hide-on-enter-ar></a-sky> -->

        <!-- Our AR Experience -->
        <a-entity id="experience">
            <!-- Adds our model to our AFrame scene -->
            <a-entity gltf-model="#tilt" scale="3 3 3" position="0 0 -4"></a-entity>
            
            <!-- Disables default loading screen provided by AFrame -->
            <!-- <a-scene loading-screen="enabled: false"></a-scene> -->
            
            <!-- Lighting -->
            <a-light type="ambient" color="#222" intensity="10" scale="5 5 5"></a-light>

            <a-sound id="bgAudio" src="#bgAudioSrc" autoplay="false" loop="true" volume="1" position="0 2 5" play-on-tap="button: #arBtn; media: #bgAudioSrc"></a-sound>
            <a-video src="#video" width="1.8" height="1.2" scale="2 2 2" position="0 2 -2" rotation="180 0 0" play-on-tap="button: #arBtn; media: #video"></a-video>

            <a-entity
                id="alphaVideo"
                alpha-video
                geometry="primitive: plane; height: 1; width: 1.78;"
                position="0 1.1 0"
                scale="3 3 3">
          </a-entity>
        
        </a-entity>        
    </a-scene>

    <!-- HTML UI Area -->
    <div id="splash-screen">
        <p>Template File</p>
        <h1>Aframe AR Starter</h1>
        <button id="arBtn">Enter AR</button>
    </div>
</body>
</html>
